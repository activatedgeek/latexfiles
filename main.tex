\documentclass{article}

%% Preemptively pass options to avoid import conflicts.
\PassOptionsToPackage{linesnumbered,ruled,vlined}{algorithm2e}
\PassOptionsToPackage{capitalise,noabbrev}{cleveref}
\PassOptionsToPackage{margin=1in}{geometry}
\PassOptionsToPackage{pagebackref=true}{hyperref}
\PassOptionsToPackage{numbers,compress}{natbib}

\usepackage[abbrvbib,nohyperref,preprint]{jmlr2e}
\usepackage[ref]{leaf}
\usepackage{algorithm}
\usepackage{algpseudocode}

%% Cleveref settings
\crefname{equation}{}{}
\Crefname{equation}{}{}

% Heading arguments are {volume}{year}{pages}{date submitted}{date published}{paper id}{author-full-names}
%% \jmlrheading{}{}{}{}{}{}{}

% Short headings should be running head and authors last names
% \ShortHeadings{}{}

\firstpageno{1}

\begin{document}

\title{Sample \LaTeX{ }file}

\author{\name Sanyam Kapoor \\
        \addr New York University}

% \author{}
% \editor{}

\maketitle

\begin{abstract}%   <- trailing '%' for backward compatibility of .sty file
This manuscript serves as a self-referencing documentation for the \texttt{leaf.sty} package \footnote{The package is available \href{https://github.com/activatedgeek/latexfiles}{here}.}.
\end{abstract}

% \begin{keywords}
%   \LaTeX, Example, Mathematical Symbols
% \end{keywords}

\section{Notations \& Variables}

\subsection{Notations}

\begin{itemize}
\item Gaussian Process: \gp{\cdot,\cdot}
\item KL-divergence: \kl
\item Gaussian distribution: \gaussian{\cdot, \cdot}
\item Mean: $\mean{\cdot}$
\item Covariance: $\cov{\cdot}$
\item Definition: \defeq
\item Big-O:  $\bigo{\cdot}$
\item Ceiling: $\ceil{\tfrac{n}{k}}$
\item Floor: $\floor{\tfrac{n}{k}}$
\item Determinant: \determ{\cdot}
\item logdet: \logdet{\cdot}
\item Norm: \norm{\cdot}
\item Conditional independence: \ci, \nci
\item Trace: \tr{\cdot}
\item Partial derivative: \pd{f}{x}(x)
\item Max or Min: $\argmin$, $\argmax$
\end{itemize}

\subsection{Variables}
\begin{enumerate}%[label=(\alph*)]
\item Bold math variables: \mbf{\Sigma}, \mbf{X},
\item Reals: \reals
\item Naturals: \naturals
\item Integers: \ints
\item Dataset: \dset
\item Inputs/Outputs: $\xvec,\yvec,\fvec,\Xvec,\Yvec$
\end{enumerate}

\section{Code Snippets}

\lstinputlisting[language=Python,linerange={1-10},caption={Compute the $n^{\mathrm{th}}$ Fibonacci number.},label=code:sample]{test.py}

\section{Media}

See \cref{fig:svg_pdf} to include PDF files..

% \begin{wrapfigure}{r}{0.6\textwidth}
\begin{figure}[ht]
    \centering
	\includegraphics[width=0.15\linewidth]{favicon.pdf} 
    \caption{SVG loaded from a \texttt{.pdf} file.}
    \label{fig:svg_pdf}
\end{figure}    
% \end{wrapfigure}

\subsection{Placeholders}

A placeholder is provided in \cref{fig:svg_pdf}(c) for the waiting times until the graphs/plots are ready.

\subsubsection{Example Images}

\begin{figure}[!ht]
\centering
\begin{tabular}{cc}
    \includegraphics[width=0.49\linewidth]{example-image-a} & \includegraphics[width=0.49\linewidth]{example-image-b} \\
    (a) & (b)
\end{tabular}
\caption{Example images from built-in package.}
\label{fig:my_label}
\end{figure}

\section{Equations, Citations, Figures}

References are rendered as \citet{icml2021-vargp}.

\begin{align}
p(\theta \mid \xvec) = \frac{p(\xvec\mid\theta)p(\theta)}{p(\xvec)} \label{eq:bayesrule}
\end{align}

Some clever reference examples using \texttt{Cleveref} package.

\begin{enumerate}
\item Equations: \cref{eq:bayesrule}.
\item Figures: \cref{fig:svg_pdf}.
\item Code: \cref{code:sample}.
\end{enumerate}

\section{Dummy text}

Get multiple pseudokantian paragraphs.

\kant[1-3]

\section{Simple Bayesian Network}

See \cref{fig:bayes_net} for an example of a simple \emph{Bayesian network} for linear regression.

\begin{figure}[ht]
    \centering
\begin{tikzpicture}
    \node [obs] (y) at (0,0) {$y_i$};
    \node [mark size=2pt,color=black,above=of y] (X) {$x_i$};
    \node [mark size=2pt,color=black,below=of y] (theta) {$\mbf{\theta}$};
    \node[circle,draw=black,fill=white,left=of y] (w) {$\bm{w}$};
    \node [mark size=2pt,color=black,above=of w] (alpha) {$\alpha^2$};
    \node [mark size=2pt,color=black,right=of y] (var) {$\sigma^2$};
    
    \path [draw,->] (theta) edge (y);
    \path [draw,->] (X) edge (y);
    \path [draw,->] (w) edge (y);
    \path [draw,->] (var) edge (y);
    \path [draw,->] (alpha) edge (w);

    \plate [color=black] {obs_plate} {(X)(y)} {$N$};
\end{tikzpicture}
    \caption{A simple Bayesian network for linear regression.}
    \label{fig:bayes_net}
\end{figure}

\section{Algorithms}

\begin{algorithm}
\caption{Graduate studentâ€™s algorithm}\label{euclid}
\begin{algorithmic}[1]
\Procedure{GradSchool}{$s$}\Comment{Graduate school takes a student}
   \State Select $\mathrm{shit}$ to work on
   \While{$\mathrm{shit}$ does not work}
      \State $\mathrm{grind}$
   \EndWhile
   \State \textbf{return} $\mathrm{shit}$
\EndProcedure
\end{algorithmic}
\end{algorithm}

\acks{
This document is built upon the \emph{JMLR Style File} available at \href{https://github.com/JmlrOrg/jmlr-style-file}{this link}.
}

\bibliography{refs}

\end{document}