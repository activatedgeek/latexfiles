%% Preemptively pass options to avoid import conflicts.
\PassOptionsToPackage{linesnumbered,ruled,vlined}{algorithm2e}
\PassOptionsToPackage{english}{babel}
\PassOptionsToPackage{capitalise,noabbrev}{cleveref}
\PassOptionsToPackage{pdftex}{graphicx}
\PassOptionsToPackage{pagebackref=true,bookmarks}{hyperref}
\PassOptionsToPackage{utf8}{inputenc}
\PassOptionsToPackage{newfloat}{minted}
\PassOptionsToPackage{numbers,compress}{natbib}
\PassOptionsToPackage{dvipsnames}{xcolor}

\usepackage{adjustbox}
\usepackage{algorithm2e}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{babel}
\usepackage{bm}
\usepackage{booktabs}
\usepackage{cancel}
\usepackage{caption}
\usepackage{enumitem}
\usepackage{etoolbox}
\usepackage{fancyvrb}
\usepackage{graphicx}
\usepackage{inputenc}
\usepackage{kantlipsum}
\usepackage{listings}
\usepackage{mathtools}
\usepackage{minted}
\usepackage{natbib}
\usepackage{nicefrac}
\usepackage{svg}
\usepackage{tikz}
\usepackage{verbatim}
\usepackage{wrapfig}
\usepackage{xcolor}

%% Load these after everything else.
\usepackage{hyperref}
\usepackage{cleveref}

%% Skip spacing around equation display (use inside document environment).
\newcommand{\displayskip}[1]{
  \setlength{\abovedisplayskip}{#1}
  \setlength{\belowdisplayskip}{#1}
  \setlength{\abovedisplayshortskip}{#1}
  \setlength{\belowdisplayshortskip}{#1}
}

%% TikZ settings
\usetikzlibrary{positioning,arrows.meta,quotes,shapes,bayesnet}
\tikzset{>=latex}

%% Cleveref settings
\crefname{equation}{}{}
\Crefname{equation}{}{}

%%
% Conference specific toggles when needed.
% Usage: \iftoggle{name}{true}{false}
%
\newtoggle{icml} \togglefalse{icml}
\newtoggle{neurips} \togglefalse{neurips}
\newtoggle{aistats} \togglefalse{aistats}

%% Text highlights.
\newcommand{\info}[1]{\textcolor{ForestGreen}{\textbf{#1}}}
\newcommand{\warn}[1]{\textcolor{RedOrange}{\textbf{#1}}}

%% natbib settings
\renewcommand{\bibname}{References}
\bibliographystyle{plainnat}

%% Wrapping minted code listings
\newenvironment{code}{\captionsetup{type=listing}}{}

%% Symbols
\newcommand{\gp}{\ensuremath{\mathcal{GP}}}  % GP
\newcommand{\kl}{\ensuremath{\mathcal{KL}}}  % KL-divergence
\newcommand{\gaussian}[1]{\ensuremath{\mathcal{N}\left(#1\right)}}  % Gaussian
\newcommand{\defeq}{\ensuremath{\triangleq}}  % definition

% \DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
% \DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
\newcommand{\ceil}[1]{\ensuremath{\left\lceil #1 \right\rceil}}
\newcommand{\floor}[1]{\ensuremath{\left\lfloor #1 \right\rfloor}}

\newcommand{\determ}[1]{\ensuremath{\left\lvert#1\right\rvert}}  % determinant
\newcommand{\logdet}[1]{\ensuremath{\log{\determ{#1}}}}
\newcommand{\norm}[1]{\ensuremath{\left\lVert#1\right\rVert}}  % norm
\newcommand{\ci}{\ensuremath{\mathrel{\perp\mspace{-10mu}\perp}}}  % conditional independence
\newcommand{\nci}{\ensuremath{\cancel{\ci}}}  % conditional dependence

\newcommand{\tr}[1]{\text{tr}\ensuremath{\left(#1\right)}}
\newcommand{\pd}[2]{\ensuremath{\frac{\partial #1}{\partial #2}}}

%% Transforms
\newcommand{\mbf}[1]{{\ensuremath{\boldsymbol{\mathbf{#1}}}}}  % bold math
\newcommand{\vrb}[1]{\Verb+#1+}  % verbatim

%% Variables
\newcommand{\reals}{\ensuremath{\mathbb{R}}}  % real numbers
\newcommand{\naturals}{\ensuremath{\mathbb{N}}}  % natural numbers
\newcommand{\ints}{\ensuremath{\mathbb{Z}}}  % integers
\newcommand{\dset}{\ensuremath{\mathcal{D}}}  % Dataset
\newcommand{\xvec}{\mbf{x}}  % vector x
\newcommand{\yvec}{\mbf{y}}  % vector y
\newcommand{\Xvec}{\mbf{X}}  % vector X (caps)
\newcommand{\Yvec}{\mbf{Y}}  % vector Y (caps)